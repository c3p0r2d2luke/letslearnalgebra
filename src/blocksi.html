<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Blocksi Exorciser v2</title>
<style>
  body {
    font-family: monospace;
    background: #111;
    color: #0f0;
    padding: 20px;
  }
  #debugBox {
    background: #000;
    border: 1px solid #0f0;
    padding: 10px;
    height: 300px;
    overflow-y: auto;
    margin-top: 20px;
    white-space: pre-wrap;
  }
  button {
    background: #222;
    color: #0f0;
    border: 1px solid #0f0;
    padding: 5px 10px;
    margin: 5px;
    cursor: pointer;
  }
  button:hover {
    background: #0f0;
    color: #000;
  }
</style>
</head>
<body>

<h2>üßô‚Äç‚ôÇÔ∏è Blocksi Exorciser v2</h2>
<p>Detects and suppresses injected Blocksi elements (like the plus button).</p>

<button id="scanBtn">Scan</button>
<button id="hideBtn">Hide</button>
<button id="removeBtn">Remove</button>
<button id="autoBtn">Auto-Hide Mode</button>

<div id="debugBox">[Debug log starts here]\n</div>

<script>
    const debugBox = document.getElementById("debugBox");
    const log = msg => {
      debugBox.textContent += msg + "\\n";
      debugBox.scrollTop = debugBox.scrollHeight;
    };
    
    function deepSearch(node = document.documentElement) {
      const results = [];
      if (!node) return results;
      const all = Array.from(node.querySelectorAll('*'));
      for (const el of all) {
        try {
          const id = el.id?.toLowerCase() || '';
          const cls = el.className?.toString().toLowerCase() || '';
          const styles = window.getComputedStyle(el);
          if (
            id.includes('blocksi') ||
            cls.includes('blocksi') ||
            styles.zIndex > 10000 ||
            (styles.position === 'fixed' && styles.bottom !== 'auto' && styles.right !== 'auto' && el.offsetWidth < 200)
          ) {
            results.push(el);
          }
          if (el.shadowRoot) results.push(...deepSearch(el.shadowRoot));
        } catch {}
      }
      return results;
    }
    
    function findBlocksi() {
      const found = deepSearch();
      return found.length ? found : null;
    }
    
    function highlightElement(el) {
      const oldOutline = el.style.outline;
      el.style.outline = "3px solid red";
      setTimeout(() => { el.style.outline = oldOutline; }, 1500);
    }
    
    // --- Buttons ---
    document.getElementById("scanBtn").onclick = () => {
      const els = findBlocksi();
      if (els) {
        log(`[+] Found ${els.length} suspect element(s).`);
        els.forEach(el => highlightElement(el));
      } else log("[-] Nothing found.");
    };
    
    document.getElementById("hideBtn").onclick = () => {
      const els = findBlocksi();
      if (!els) return log("[-] Nothing to hide.");
      els.forEach(el => {
        highlightElement(el);
        el.style.setProperty('display', 'none', 'important');
      });
      log(`[‚úî] Hid ${els.length} element(s) with !important rule.`);
    };
    
    document.getElementById("removeBtn").onclick = () => {
      const els = findBlocksi();
      if (!els) return log("[-] Nothing to remove.");
      els.forEach(el => {
        highlightElement(el);
        el.remove();
      });
      log(`[üî•] Removed ${els.length} element(s).`);
    };
    
    let autoInterval = null;
    document.getElementById("autoBtn").onclick = () => {
      if (autoInterval) {
        clearInterval(autoInterval);
        autoInterval = null;
        log("[üõë] Auto-hide stopped.");
        return;
      }
      autoInterval = setInterval(() => {
        const els = findBlocksi();
        if (els && els.length) {
          els.forEach(el => {
            el.style.setProperty('display', 'none', 'important');
          });
          log(`[‚ö°] Auto-hid ${els.length} element(s)`);
        }
      }, 500);
      log("[üëÅÔ∏è] Auto-hide mode activated (every 0.5 s).");
    };
    
    log("[Ready] Press 'Scan' to begin.");
    </script>
    
</body>
</html>
